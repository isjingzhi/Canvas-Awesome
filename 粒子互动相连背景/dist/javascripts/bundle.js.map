{"version":3,"sources":["webpack:///webpack/bootstrap f2329b8c24d102c18f65","webpack:///./dist/javascripts/canvas.js","webpack:///./dist/javascripts/index.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kDAAiD,+BAA+B;AAChF;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA,yCAAwC,qBAAqB;AAC7D;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA,YAAW;AACX;;AAEA,wBAAuB,iBAAiB;AACxC;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA,kDAAiD,SAAS;AAC1D;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mEAAkE;AAClE;;AAEA;AACA,gDAA+C,yCAAyC;AACxF;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA,IAAG;;AAEH;AACA,EAAC,E;;;;;;ACnsBD;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH,EAAC,E","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f2329b8c24d102c18f65","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.canvas = mod.exports;\n  }\n})(this, function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _slicedToArray = function () {\n    function sliceIterator(arr, i) {\n      var _arr = [];\n      var _n = true;\n      var _d = false;\n      var _e = undefined;\n\n      try {\n        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n          _arr.push(_s.value);\n\n          if (i && _arr.length === i) break;\n        }\n      } catch (err) {\n        _d = true;\n        _e = err;\n      } finally {\n        try {\n          if (!_n && _i[\"return\"]) _i[\"return\"]();\n        } finally {\n          if (_d) throw _e;\n        }\n      }\n\n      return _arr;\n    }\n\n    return function (arr, i) {\n      if (Array.isArray(arr)) {\n        return arr;\n      } else if (Symbol.iterator in Object(arr)) {\n        return sliceIterator(arr, i);\n      } else {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      }\n    };\n  }();\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _defaultColors = [[240, 91, 114, 3000], [49, 105, 146, 3000], [153, 47, 37, 3000], [120, 115, 201, 3000], [153, 105, 33, 3000], [70, 120, 33, 3000], [28, 110, 110, 3000], [75, 75, 120]];\n\n  var _default = {\n    txt: 'NightCat', // 文本\n    font: 'normal 100px sans-serif', // 文本样式\n    ball_count: 30, // 总个数\n    line_range: 200, // 连线范围\n    r_range: [10, 20], // 半径范围\n    color: _defaultColors, // 小球颜色组 [[r, g, b, time]...] *time: 在该颜色停留的时间\n    bgColor: [[224, 224, 224, 20000], [22, 22, 22, 20000]], // 背景颜色组\n    textColor: [[52, 52, 52, 20000], [224, 224, 224, 20000]], // 文本颜色组\n    mouseColor: _defaultColors, // 鼠标颜色组\n    period: 5000, // 颜色呼吸周期\n    bgPeriod: 5000, // 背景颜色呼吸周期\n    textPeriod: 5000, // 文本颜色呼吸周期\n    opacity: [0.3, 0.8], // 透明度范围\n    speed: [-1, 1], // 速度范围\n    clickPause: false // 是否点击暂停\n  };\n\n  var Canvas = function () {\n    function Canvas(id, option) {\n      _classCallCheck(this, Canvas);\n\n      this.canvas = document.getElementById(id);\n      this.cxt = this.canvas.getContext('2d');\n\n      Object.assign(this, _default, option);\n\n      this.mouse = {\n        x: 0,\n        y: 0,\n        r: 0,\n        type: -1,\n        catchBall: false,\n        onLine: false\n      };\n\n      Object.assign(this.mouse, this.initGradientData(this.period, this.mouseColor));\n\n      this.vballs = [];\n      this.balls = [];\n      this.bg = this.initGradientData(this.bgPeriod, this.bgColor);\n      this.text = this.initGradientData(this.textPeriod, this.textColor);\n\n      this.clickHandle = this.clickHandle.bind(this);\n      this.mouseHandle = this.mouseHandle.bind(this);\n      this.init = this.init.bind(this);\n      this.bindEvent();\n      this.init();\n      this.start();\n    }\n    //  初始化canvas\n\n\n    _createClass(Canvas, [{\n      key: 'init',\n      value: function init() {\n        this.width = this.canvas.width = this.canvas.offsetWidth;\n        this.height = this.canvas.height = this.canvas.offsetHeight;\n        this.bounds = this.canvas.getBoundingClientRect();\n      }\n    }, {\n      key: 'bindEvent',\n      value: function bindEvent() {\n        this.canvas.addEventListener('click', this.clickHandle, false);\n        this.canvas.addEventListener('mousemove', this.mouseHandle, false);\n        window.addEventListener('resize', this.init, false);\n      }\n    }, {\n      key: 'unbindEvent',\n      value: function unbindEvent() {\n        this.canvas.removeEventListener('click', this.clickHandle, false);\n        this.canvas.removeEventListener('mousemove', this.mouseHandle, false);\n        window.removeEventListener('resize', this.init, false);\n      }\n    }, {\n      key: 'clickHandle',\n      value: function clickHandle(e) {\n        this.clickPause && this.toggleAnimateStatus();\n      }\n    }, {\n      key: 'mouseHandle',\n      value: function mouseHandle(e) {\n        var mx = e.clientX - this.bounds.left;\n        var my = e.clientY - this.bounds.top;\n\n        this.mouse.x = mx;\n        this.mouse.y = my;\n      }\n    }, {\n      key: 'start',\n      value: function start() {\n        var _this = this;\n\n        if (this.isAnimate) {\n          return false;\n        }\n\n        for (var i = this.vballs.length; i < this.ball_count; i++) {\n          this.addBall();\n        }\n\n        this.isAnimate = true;\n\n        var step = function step() {\n          if (!_this.isAnimate) return false;\n\n          _this.cxt.clearRect(0, 0, _this.width, _this.height);\n          _this.renderBackground();\n          _this.render();\n          _this.renderText();\n          _this.update();\n          requestAnimationFrame(step);\n        };\n        requestAnimationFrame(step);\n      }\n    }, {\n      key: 'toggleAnimateStatus',\n      value: function toggleAnimateStatus() {\n        if (this.isAnimate) {\n          this.isAnimate = false;\n        } else {\n          this.start();\n        }\n      }\n    }, {\n      key: 'getColorList',\n      value: function getColorList(color) {\n        //  颜色差值[r, g, b]\n        var startColor = color[0];\n        var endColor = color[1];\n\n        var ColorDis = endColor.map(function (end, i) {\n          return end - startColor[i];\n        });\n\n        //  颜色差最大的绝对值\n        var ColorLength = Math.max(Math.abs(ColorDis[0]), Math.abs(ColorDis[1]), Math.abs(ColorDis[2]));\n\n        //  颜色变化系数\n        var ColorChange = ColorDis.map(function (c) {\n          return c / ColorLength;\n        });\n\n        var ColorList = [];\n\n        var _loop = function _loop(i) {\n          ColorList.push(ColorChange.map(function (c, index) {\n            return color[0][index] + c * i;\n          }));\n        };\n\n        for (var i = 0; i < ColorLength; i++) {\n          _loop(i);\n        }\n\n        return ColorList;\n      }\n    }, {\n      key: 'addBall',\n      value: function addBall() {\n        var ball = {\n          vx: this.getRandomNumber(this.speed), // 水平方向加速度\n          vy: this.getRandomNumber(this.speed), // 垂直方向加速度\n          opacity: this.getRandomNumber(this.opacity), // 透明度\n          is_infect: false, // 是否被鼠标颜色感染\n          type: ~~this.getRandomNumber([0, 3]), // 小球类型[-1:鼠标, 0:实心球, 1:圆环, 2:双环]\n          reverse: false, // 是否反向颜色渐变\n          withMouse: 0 // 与鼠标位置的关系  [0:范围外, 1:范围内, 2:球中]\n        };\n\n        ball.r = (1 - ball.opacity) * (this.r_range[1] - this.r_range[0]) + this.r_range[0];\n        ball.x = this.getRandomNumber([ball.r, this.width - ball.r]);\n        ball.y = this.getRandomNumber([ball.r, this.height - ball.r]);\n\n        if (this.isOverlap(ball)) {\n          return this.addBall();\n        }\n\n        Object.assign(ball, this.initGradientData(this.period, this.color));\n\n        switch (ball.type) {\n          case 0:\n            break;\n          case 1:\n            ball.emptyR = this.getRandomNumber([ball.r / 2, ball.r / 4 * 3]);\n            break;\n          case 2:\n            ball.emptyR = this.getRandomNumber([ball.r / 2, ball.r / 4 * 3]);\n            ball.sonR = this.getRandomNumber([ball.emptyR / 2, ball.emptyR / 4 * 3]);\n            break;\n        }\n\n        this.vballs.push(ball);\n      }\n    }, {\n      key: 'isOverlap',\n      value: function isOverlap(ball) {\n        return !this.vballs.every(function (b) {\n          var d = Math.sqrt(Math.pow(ball.x - b.x, 2) + Math.pow(ball.y - b.y, 2));\n          if (d <= ball.r + b.r) {\n            return false;\n          }\n          return true;\n        });\n      }\n    }, {\n      key: 'getBalls',\n      value: function getBalls() {\n        var ball = null;\n        var balls = [];\n\n        for (var i = 0, len = this.vballs.length; i < len; i++) {\n          ball = this.vballs[i];\n          balls.push(ball);\n          balls = balls.concat(this.addMirrorBalls(ball));\n        }\n\n        return balls;\n      }\n    }, {\n      key: 'addMirrorBalls',\n      value: function addMirrorBalls(ball) {\n        var range = this.r_range[1] * 4;\n        var balls = [];\n        var newPos = {};\n        if (ball.x < range) {\n          newPos.x = ball.x + this.width;\n        }\n        if (ball.x > this.width - range) {\n          newPos.x = ball.x - this.width;\n        }\n        if (ball.y < range) {\n          newPos.y = ball.y + this.height;\n        }\n        if (ball.y > this.height - range) {\n          newPos.y = ball.y - this.height;\n        }\n\n        for (var i in newPos) {\n          var _addMirrorBall;\n\n          balls.push(this.addMirrorBall(ball, (_addMirrorBall = {}, _defineProperty(_addMirrorBall, i, newPos[i]), _defineProperty(_addMirrorBall, 'parent', ball), _addMirrorBall)));\n        }\n\n        if (Object.keys(newPos).length === 2) {\n          balls.push(this.addMirrorBall(ball, { x: newPos.x, y: newPos.y, parent: ball }));\n        }\n\n        return balls;\n      }\n    }, {\n      key: 'addMirrorBall',\n      value: function addMirrorBall(ball, obj) {\n        var newBall = {};\n        for (var key in ball) {\n          if (obj[key] !== undefined) {\n            newBall[key] = obj[key];\n          } else {\n            newBall[key] = ball[key];\n          }\n        }\n\n        return newBall;\n      }\n    }, {\n      key: 'render',\n      value: function render(progress) {\n        var _this2 = this;\n\n        this.balls.length = 0;\n\n        this.balls = this.getBalls();\n\n        this.balls.push(this.mouse);\n\n        this.mouse.noLine = this.mouse.catchBall;\n        this.mouse.catchBall = false;\n        Array.from(this.balls, function (ball, i) {\n          _this2.renderBall(ball, i);\n        });\n      }\n    }, {\n      key: 'renderBall',\n      value: function renderBall(ball, i) {\n        var _this3 = this;\n\n        var x = ball.x;\n        var y = ball.y;\n        var color = ball.color;\n\n        //  连线\n        Array.from(this.balls, function (b, index) {\n          if (index <= i) {\n            return false;\n          }\n\n          var d = Math.sqrt(Math.pow(x - b.x, 2) + Math.pow(y - b.y, 2));\n          if (d < _this3.line_range && d > ball.r + b.r) {\n            if (b.type === -1) {\n              ball.withMouse = 1;\n              ball.is_infect = true;\n\n              if (_this3.mouse.noLine) {\n                return false;\n              }\n            }\n            var opacity = 1 - d / _this3.line_range;\n            var ballColor = _this3.getRGBA(color, opacity);\n            var bColor = _this3.getRGBA(b.color, opacity);\n\n            _this3.cxt.save();\n\n            var g = _this3.cxt.createLinearGradient(x, y, b.x, b.y);\n\n            if (ball.type === 1) {\n              g.addColorStop(0, ballColor);\n              g.addColorStop(ball.emptyR / d, ballColor);\n              g.addColorStop(ball.emptyR / d, 'transparent');\n            } else if (ball.type === 2) {\n              g.addColorStop(0, 'transparent');\n              g.addColorStop(ball.sonR / d, 'transparent');\n              g.addColorStop(ball.sonR / d, ballColor);\n              g.addColorStop(ball.emptyR / d, ballColor);\n              g.addColorStop(ball.emptyR / d, 'transparent');\n            } else {\n              g.addColorStop(0, 'transparent');\n            }\n            g.addColorStop(ball.r / d, 'transparent');\n            g.addColorStop(ball.r / d, ballColor);\n            g.addColorStop(1 - b.r / d, bColor);\n            g.addColorStop(1 - b.r / d, 'transparent');\n            g.addColorStop(1, 'transparent');\n\n            _this3.cxt.strokeStyle = g;\n            _this3.renderLine(x, y, b.x, b.y);\n\n            _this3.cxt.restore();\n          } else if (d < ball.r + b.r && !b.isCrash && !ball.isCrash) {\n            if (b.type === -1) {\n              ball.withMouse = 2;\n              ball.is_infect = true;\n              _this3.mouse.catchBall = true;\n            } else {\n              ball.isCrash = true;\n              b.isCrash = true;\n              _this3.crashHandle(ball, b);\n\n              if (ball.parent) {\n                ball.parent.isCrash = true;\n              }\n\n              if (b.parent) {\n                b.parent.isCrash = true;\n              }\n            }\n          } else if (b.type === -1) {\n            ball.withMouse = 0;\n            ball.is_infect = false;\n          }\n        });\n\n        //  大球体\n        if (ball.type === 0) {\n          this.renderTypeArc(x, y, ball.r, this.getRGBA(color, ball.opacity));\n        } else if (ball.type === 1) {\n          this.renderTypeArc(x, y, ball.r, this.getRGBA(color, ball.opacity), ball.emptyR);\n        } else if (ball.type === 2) {\n          this.renderTypeArc(x, y, ball.r, this.getRGBA(color, ball.opacity), ball.emptyR, ball.sonR);\n        }\n      }\n    }, {\n      key: 'resetColorList',\n      value: function resetColorList(ball) {\n        ball.cur_i = 0;\n        ball.reverse = false;\n      }\n    }, {\n      key: 'crashHandle',\n      value: function crashHandle(b1, b2) {\n        var deg = Math.atan2(b2.y - b1.y, b2.x - b1.x);\n        var speed1 = Math.sqrt(b1.vx * b1.vx + b1.vy * b1.vy);\n        var speed2 = Math.sqrt(b2.vx * b2.vx + b2.vy * b2.vy);\n        var dir1 = Math.atan2(b1.vy, b1.vx);\n        var dir2 = Math.atan2(b2.vy, b2.vx);\n\n        var vx1 = speed1 * Math.cos(dir1 - deg);\n        var vy1 = speed1 * Math.sin(dir1 - deg);\n        var vx2 = speed2 * Math.cos(dir2 - deg);\n        var vy2 = speed2 * Math.sin(dir2 - deg);\n\n        var fx1 = vx2;\n        var fy1 = vy1;\n        var fx2 = vx1;\n        var fy2 = vy2;\n\n        b1.fx = Math.cos(deg) * fx1 + Math.cos(deg + Math.PI / 2) * fy1;\n        b1.fy = Math.sin(deg) * fx1 + Math.sin(deg + Math.PI / 2) * fy1;\n        b2.fx = Math.cos(deg) * fx2 + Math.cos(deg + Math.PI / 2) * fy2;\n        b2.fy = Math.sin(deg) * fx2 + Math.sin(deg + Math.PI / 2) * fy2;\n      }\n    }, {\n      key: 'update',\n      value: function update() {\n        var _this4 = this;\n\n        this.vballs = this.vballs.map(function (ball) {\n          if (ball.x < -ball.r) {\n            ball.x = ball.x + _this4.width;\n          } else if (ball.x > _this4.width + ball.r) {\n            ball.x = ball.x - _this4.width;\n          } else if (ball.y < -ball.r) {\n            ball.y = ball.y + _this4.height;\n          } else if (ball.y > _this4.height + ball.r) {\n            ball.y = ball.y - _this4.height;\n          }\n\n          if (ball.isCrash) {\n            ball.isCrash = false;\n\n            ball.vx = ball.fx;\n            ball.vy = ball.fy;\n          }\n\n          if (ball.withMouse === 1) {\n            var g = Math.random() * 0.02;\n\n            if (ball.y > _this4.mouse.y) {\n              ball.vy = ball.vy * 0.99 + g;\n            } else {\n              ball.vy = ball.vy * 0.99 - g;\n            }\n\n            if (ball.x > _this4.mouse.x) {\n              ball.vx = ball.vx * 0.99 + g;\n            } else {\n              ball.vx = ball.vx * 0.99 - g;\n            }\n          }\n          if (ball.withMouse !== 2) {\n            ball.x += ball.vx;\n            ball.y += ball.vy;\n          }\n\n          _this4.updateGradientData(ball);\n\n          return ball;\n        });\n\n        this.updateGradientData(this.mouse);\n        this.updateGradientData(this.bg);\n        this.updateGradientData(this.text);\n      }\n    }, {\n      key: 'initGradientData',\n      value: function initGradientData(period, colors) {\n        var ColorList = this.getColorList(colors);\n        return {\n          cur_i: 0, // 当前颜色step\n          cur_color: 0, // 当前颜色组索引\n          color: colors[0], // 当前颜色\n          changeValue: ColorList.length / (period / 16.7), // 每次渲染变化量\n          ColorList: ColorList, // 当前颜色范围\n          ColorGroup: colors // 渐变颜色组\n        };\n      }\n    }, {\n      key: 'updateGradientData',\n      value: function updateGradientData(ball) {\n        var _this5 = this;\n\n        var index = void 0;\n\n        if (ball.ColorGroup[ball.cur_color][3]) {\n          var v = ball.ColorGroup[ball.cur_color][3] / 16.7;\n          if (ball.cur_i <= v) {\n            ball.cur_i += 1;\n            return false;\n          } else {\n            ball.cur_i += ball.changeValue;\n            index = ~~(ball.cur_i - v);\n          }\n        } else {\n          ball.cur_i += ball.changeValue;\n          index = ~~ball.cur_i;\n        }\n\n        if (index === ball.cur_i) {\n          return false;\n        }\n        ball.color = ball.color.map(function (n, i) {\n          if (index >= ball.ColorList.length) {\n            ball.cur_i = index = 0;\n            ball.cur_color++;\n            ball.cur_color = ball.cur_color % ball.ColorGroup.length;\n            if (ball.cur_color === ball.ColorGroup.length - 1) {\n              ball.ColorList = _this5.getColorList([ball.ColorGroup[ball.cur_color], ball.ColorGroup[0]]);\n            } else {\n              ball.ColorList = _this5.getColorList([ball.ColorGroup[ball.cur_color], ball.ColorGroup[ball.cur_color + 1]]);\n            }\n          }\n          return ball.ColorList[index][i];\n        });\n      }\n    }, {\n      key: 'getRGBA',\n      value: function getRGBA(color) {\n        var opacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n        return color === 'transparent' ? color : 'rgba(' + ~~color[0] + ', ' + ~~color[1] + ', ' + ~~color[2] + ', ' + opacity + ')';\n      }\n    }, {\n      key: 'getRandomNumber',\n      value: function getRandomNumber(_ref, decimal) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            min = _ref2[0],\n            max = _ref2[1];\n\n        return Math.random() * (max - min) + min;\n      }\n    }, {\n      key: 'renderTypeArc',\n      value: function renderTypeArc(x, y, r, color, innerR, centerR) {\n        this.cxt.fillStyle = color;\n\n        this.cxt.beginPath();\n        this.cxt.arc(x, y, r, 0, Math.PI * 2, true);\n        innerR && this.cxt.arc(x, y, innerR, 0, Math.PI * 2, false);\n        centerR && this.cxt.arc(x, y, centerR, 0, Math.PI * 2, true);\n\n        this.cxt.fill();\n      }\n    }, {\n      key: 'renderArc',\n      value: function renderArc(x, y, r, color) {\n        this.cxt.fillStyle = color;\n\n        this.cxt.beginPath();\n        this.cxt.arc(x, y, r, 0, Math.PI * 2, true);\n\n        this.cxt.fill();\n      }\n    }, {\n      key: 'renderRing',\n      value: function renderRing(x, y, r, color, innerR) {\n        this.cxt.fillStyle = color;\n\n        this.cxt.beginPath();\n        this.cxt.arc(x, y, r, 0, Math.PI * 2, true);\n        this.cxt.arc(x, y, innerR, 0, Math.PI * 2, false);\n\n        this.cxt.fill();\n      }\n    }, {\n      key: 'renderDoubleArc',\n      value: function renderDoubleArc(x, y, r, color, innerR, centerR) {\n        this.cxt.fillStyle = color;\n\n        this.cxt.beginPath();\n        this.cxt.arc(x, y, r, 0, Math.PI * 2, true);\n        this.cxt.arc(x, y, innerR, 0, Math.PI * 2, false);\n        this.cxt.arc(x, y, r, 0, Math.PI * 2, true);\n\n        this.cxt.fill();\n      }\n    }, {\n      key: 'renderLine',\n      value: function renderLine(x1, y1, x2, y2) {\n        this.cxt.beginPath();\n        this.cxt.moveTo(x1, y1);\n        this.cxt.lineTo(x2, y2);\n\n        this.cxt.stroke();\n      }\n    }, {\n      key: 'renderTri',\n      value: function renderTri(coord1, coord2, coord3) {\n        this.cxt.beginPath();\n        this.cxt.moveTo(coord1.x, coord1.y);\n        this.cxt.lineTo(coord2.x, coord2.y);\n        this.cxt.lineTo(coord3.x, coord3.y);\n        this.cxt.lineTo(coord1.x, coord1.y);\n        this.cxt.closePath();\n\n        this.cxt.stroke();\n      }\n    }, {\n      key: 'renderBackground',\n      value: function renderBackground() {\n        this.cxt.fillStyle = this.getRGBA(this.bg.color, 1);\n        this.cxt.fillRect(0, 0, this.width, this.height);\n      }\n    }, {\n      key: 'renderText',\n      value: function renderText() {\n        this.cxt.save();\n\n        this.cxt.font = this.font;\n        this.cxt.textAlign = 'center';\n        this.cxt.fillStyle = this.getRGBA(this.text.color);\n        this.cxt.fillText(this.txt, this.width / 2, this.height / 2);\n\n        this.cxt.restore();\n      }\n    }]);\n\n    return Canvas;\n  }();\n\n  exports.default = Canvas;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dist/javascripts/canvas.js\n// module id = 1\n// module chunks = 0","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['./canvas.js'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require('./canvas.js'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.canvas);\n    global.index = mod.exports;\n  }\n})(this, function (_canvas) {\n  'use strict';\n\n  var _canvas2 = _interopRequireDefault(_canvas);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  new _canvas2.default('canvas', {\n    clickPause: true\n  });\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dist/javascripts/index.js\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}